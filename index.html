<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pillar - AI-Powered Client Management</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: #f9fafb;
        }
        .login-bg {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .channel-badge {
            width: 24px;
            height: 24px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        .timeline-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #3b82f6;
            margin-right: 12px;
        }
        .nav-tab.active {
            border-bottom: 3px solid #3b82f6;
            color: #3b82f6;
            font-weight: 600;
        }
        .document-card {
            border-left: 4px solid transparent;
        }
        .document-card:hover {
            background-color: #f3f4f6;
        }
        .document-card.selected {
            border-left: 4px solid #3b82f6;
            background-color: #eff6ff;
        }
        /* Animation */
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateY(10px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #c5c5c5;
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #a3a3a3;
        }

        /* -------------------------------------------------------- */
            /* Brand-specific icon styles */
    .icon-teams {
        background: linear-gradient(135deg, #4050B5 0%, #5059C9 100%);
        color: white;
        font-size: 14px;
    }
    
    .icon-slack {
        background: #4A154B;
        color: white;
        font-size: 14px;
    }
    
    .icon-email {
        background: linear-gradient(135deg, #0072C6 0%, #00A4EF 100%);
        color: white;
        font-size: 14px;
    }
    
    .channel-logo {
        width: 24px;
        height: 24px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 5px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    
    .channel-logo-sm {
        width: 20px;
        height: 20px;
        font-size: 10px;
        border-radius: 4px;
    }
    
    /* Badge styles */
    .channel-badge-count {
        position: absolute;
        top: -5px;
        right: -5px;
        background-color: #EF4444;
        color: white;
        font-size: 10px;
        font-weight: bold;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 1px solid white;
    }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="fixed inset-0 flex items-center justify-center login-bg z-50">
        <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-md slide-in">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800 flex items-center justify-center">
                    <span class="text-blue-600 mr-2"><i class="fas fa-link"></i></span>
                    Pillar
                </h1>
                <p class="text-gray-600 mt-2">AI-Powered Client Management</p>
            </div>
            
            <div class="mb-6">
                <label class="block text-gray-700 text-sm font-semibold mb-2" for="email">
                    Email Address
                </label>
                <input class="appearance-none border border-gray-300 rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:shadow-outline" id="email" type="email" placeholder="your@email.com">
            </div>
            
            <div class="mb-6">
                <label class="block text-gray-700 text-sm font-semibold mb-2" for="password">
                    Password
                </label>
                <input class="appearance-none border border-gray-300 rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:shadow-outline" id="password" type="password" placeholder="••••••••">
            </div>
            
            <div class="flex items-center justify-between mb-6">
                <div class="flex items-center">
                    <input id="remember" type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded">
                    <label for="remember" class="ml-2 block text-sm text-gray-700">
                        Remember me
                    </label>
                </div>
                <a href="#" class="text-sm text-blue-600 hover:text-blue-800">Forgot password?</a>
            </div>
            
            <button id="login-button" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-md focus:outline-none focus:shadow-outline transition duration-300 ease-in-out transform hover:-translate-y-1">
                Sign In
            </button>
        </div>
    </div>

    <!-- Main Application (Hidden initially) -->
    <div id="app" class="hidden">
        <!-- Top Navigation -->
        <nav class="bg-white border-b border-gray-200">
            <div class="px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                    <div class="flex">
                        <div class="flex-shrink-0 flex items-center">
                            <span class="text-blue-600 text-2xl mr-2"><i class="fas fa-link"></i></span>
                            <span class="font-bold text-xl text-gray-800">Pillar</span>
                        </div>
                        <div class="hidden sm:ml-6 sm:flex sm:items-center">
                            <div class="px-3 py-2 text-sm font-medium text-gray-700">Dashboard</div>
                            <div class="px-3 py-2 text-sm font-medium text-gray-500">Clients</div>
                            <div class="px-3 py-2 text-sm font-medium text-gray-500">Reports</div>
                            <div class="px-3 py-2 text-sm font-medium text-gray-500">Settings</div>
                        </div>
                    </div>
                    <div class="flex items-center">
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-comment text-gray-400"></i>
                            </div>
                            <input class="block w-96 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:bg-white focus:border-blue-500 sm:text-sm" placeholder="Ask anything within your workspace..." type="search">
                        </div>
                        <div class="ml-4 flex items-center md:ml-6">
                            <button class="p-1 rounded-full text-gray-400 hover:text-gray-500">
                                <i class="fas fa-bell"></i>
                            </button>
                            <div class="ml-3 relative">
                                <div class="flex items-center">
                                    <div class="h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white">
                                        <span class="text-sm font-medium">JD</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Dashboard -->
        <div id="dashboard" class="p-12">
            <div class="mb-8">
                <div class="flex justify-between items-center mb-10">
                    <h1 class="text-2xl font-bold text-gray-800">Client Dashboard</h1>
                    <div class="flex space-x-2">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
                            <i class="fas fa-clock mr-1"></i> Last updated: Just now
                        </span>
                        <button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700">
                            <i class="fas fa-plus mr-2"></i> Add Client
                        </button>
                    </div>
                </div>
        
                <!-- AI Activity Summary -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-12 slide-in">
                    <div class="flex items-start">
                        <div class="bg-blue-100 rounded-full p-2 mr-3 text-blue-600">
                            <i class="fas fa-robot text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800">AI Activity Summary</h3>
                            <div class="mt-2 text-sm text-gray-600">
                                <p class="mb-1"><i class="fas fa-envelope text-blue-500 mr-1"></i> <strong>5 messages</strong> require responses today</p>
                                <p class="mb-1"><i class="fas fa-file-alt text-blue-500 mr-1"></i> <strong>3 clients</strong> sent new documents in the last 24 hours</p>
                                <p><i class="fas fa-calendar-alt text-blue-500 mr-1"></i> <strong>Tax deadline approaching</strong> for 2 clients (Riverstone Properties, TechMinds Inc)</p>
                            </div>
                        </div>
                    </div>
                </div>
        
                <!-- Engaging Clients Section - Collapsible -->
                <div class="mb-8">
                    <div class="flex items-center justify-between mb-4 p-3 rounded-lg border border-amber-200" style="background-color: rgba(234, 88, 12, 0.5);">                        <div class="flex items-center">
                            <i class="fas fa-lightbulb mr-2" style="color: #FACC15;"></i>
                            <h2 class="text-lg font-semibold text-gray-900">Engaging</h2>
                            <span class="ml-2 bg-amber-100 text-amber-800 text-sm font-medium px-2 py-0.5 rounded-full" style="background-color: #e18f63;">2 clients</span>
                        </div>
                        <button id="toggle-engaging" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    
                    <div id="engaging-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Client Card 1 - Riverstone Properties (Needs Attention) -->
                        <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-5 card-hover transition duration-300 cursor-pointer client-card" data-client="riverstone">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 font-bold mr-3">
                                    RP
                                </div>
                                <div>
                                    <h3 class="font-bold text-gray-800">Riverstone Properties</h3>
                                    <p class="text-sm text-gray-500">Real Estate Development</p>
                                </div>
                            </div>
                            
                            <div class="mt-6 grid grid-cols-3 gap-2 text-sm mb-6">
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-semibold mb-3 text-gray-800">Unread</p>
                                    <div class="flex items-center mt-1">
                                        <span class="font-bold text-red-600 mr-2">3</span>
                                        <div class="flex space-x-1">
                                            <span class="w-5 h-5 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-xs">
                                                <i class="fas fa-envelope"></i>
                                            </span>
                                            <span class="w-5 h-5 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 text-xs">
                                                <i class="fab fa-slack"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-semibold mb-3 text-gray-800">Follow Up</p>
                                    <p class="font-semibold text-orange-600">2</p>
                                </div>
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-semibold mb-3 text-gray-800">Documents</p>
                                    <p class="font-semibold text-blue-600">8</p>
                                </div>
                            </div>
                            
                            <!-- To-do List Section (collapsible) -->
                            <div class="mt-4 border-t border-gray-200 pt-6">
                                <div class="flex items-center justify-between mb-2">
                                    <h4 class="text-sm font-semibold text-gray-800">Priority To-Do</h4>
                                    <button class="text-xs text-blue-600 hover:text-blue-800 toggle-todo">
                                        <i class="fas fa-chevron-down"></i>
                                    </button>
                                </div>
                                <div class="bg-gray-100 rounded-lg border border-gray-200 p-3">
                                    <ul class="text-sm text-gray-600 space-y-2 todo-list">
                                        <li class="flex items-start">
                                            <i class="fas fa-circle text-xs text-red-500 mt-1 mr-2"></i>
                                            <span>Respond to tax document request (due in 2 days)</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-circle text-xs text-orange-500 mt-1 mr-2"></i>
                                            <span>Review Q1 financial statement</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-circle text-xs text-blue-500 mt-1 mr-2"></i>
                                            <span>Schedule follow-up call about property acquisition</span>
                                        </li>
                                        <li class="hidden flex items-start todo-extra">
                                            <i class="fas fa-circle text-xs text-gray-500 mt-1 mr-2"></i>
                                            <span>Confirm invoice #1024 payment details</span>
                                        </li>
                                        <li class="hidden flex items-start todo-extra">
                                            <i class="fas fa-circle text-xs text-gray-500 mt-1 mr-2"></i>
                                            <span>Send updated tax filing timeline</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
        
                        <!-- Client Card 5 - North Medical Center (Needs Attention) -->
                        <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-5 card-hover transition duration-300 cursor-pointer">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-700 font-bold mr-3">
                                    NM
                                </div>
                                <div>
                                    <h3 class="font-bold text-gray-800">North Medical Center</h3>
                                    <p class="text-sm text-gray-500">Healthcare Provider</p>
                                </div>
                            </div>
                            
                            <div class="mt-6 grid grid-cols-3 gap-2 text-sm mb-6">
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-semibold mb-3 text-gray-600">Unread</p>
                                    <div class="flex items-center mt-1">
                                        <span class="font-bold text-red-600 mr-2">2</span>
                                        <div class="flex space-x-1">
                                            <span class="w-5 h-5 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-xs">
                                                <i class="fas fa-envelope"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-semibold mb-3 text-gray-600">Follow Up</p>
                                    <p class="font-bold text-orange-600">1</p>
                                </div>
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-semibold mb-3 text-gray-600">Documents</p>
                                    <p class="font-bold text-red-600">3</p>
                                </div>
                            </div>
                            
                            <!-- To-do List Section (collapsible) -->
                            <div class="mt-4 border-t border-gray-200 pt-6">
                                <div class="flex items-center justify-between mb-2">
                                    <h4 class="text-sm font-bold text-gray-800">Priority To-Do</h4>
                                    <button class="text-xs text-blue-600 hover:text-blue-800 toggle-todo">
                                        <i class="fas fa-chevron-down"></i>
                                    </button>
                                </div>
                                <div class="bg-gray-100 rounded-lg border border-gray-200 p-3">
                                    <ul class="text-sm text-gray-600 space-y-2 todo-list">
                                        <li class="flex items-start">
                                            <i class="fas fa-circle text-xs text-red-500 mt-1 mr-2"></i>
                                            <span>Request missing bank statements for Q1</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-circle text-xs text-orange-500 mt-1 mr-2"></i>
                                            <span>Follow up on insurance documentation</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-circle text-xs text-blue-500 mt-1 mr-2"></i>
                                            <span>Review payroll discrepancies from March</span>
                                        </li>
                                        <li class="hidden flex items-start todo-extra">
                                            <i class="fas fa-circle text-xs text-gray-500 mt-1 mr-2"></i>
                                            <span>Schedule quarterly review meeting</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- On Track Clients Section - Collapsible -->
                <div class="mb-8">
                    <div class="flex items-center justify-between mb-4 bg-green-200 p-3 rounded-lg border border-green-200">
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-600 mr-2"></i>
                            <h2 class="text-lg font-semibold text-gray-800">On Track</h2>
                            <span class="ml-2 bg-green-300 text-green-900 text-xs px-2 py-0.5 rounded-full">4 clients</span>
                        </div>
                        <button id="toggle-on-track" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    
                    <div id="on-track-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Client Card 2 - TechMinds Inc (On Track) -->
                        <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-5 card-hover transition duration-300 cursor-pointer">
                            <div class="flex justify-between items-start">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center text-purple-700 font-bold mr-3">
                                        TM
                                    </div>
                                    <div>
                                        <h3 class="font-bold text-gray-800">TechMinds Inc</h3>
                                        <p class="text-sm text-gray-500">Software Development</p>
                                    </div>
                                </div>
                                <span class="bg-green-500 text-white text-xs px-3 py-1 rounded-full font-medium">All Caught Up</span>
                            </div>
                            
                            <div class="mt-6 grid grid-cols-3 gap-2 text-sm">
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-semibold text-gray-800 mb-3">Last Engaged</p>
                                    <div class="text-gray-800 flex items-center justify-between pr-3">
                                        <p class="text-xs">2 days ago</p>
                                        <div class="flex mt-1 space-x-1">
                                            <span class="w-4 h-4 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-xs">
                                                <i class="fas fa-envelope"></i>
                                            </span>
                                            <span class="w-4 h-4 rounded-full bg-teal-100 flex items-center justify-center text-teal-600 text-xs">
                                                <i class="fab fa-microsoft"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-semibold text-gray-800 mb-3">Last Topic</p>
                                    <p class="text-xs text-gray-800 mt-2">Quarterly Tax Prep</p>
                                </div>
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-semibold text-gray-800 mb-3">Last Doc</p>
                                    <p class="text-xs text-gray-800 mt-2">Employee Benefits PDF</p>
                                </div>
                            </div>
                        </div>
        
                        <!-- Client Card 3 - Green Coast Retailers (On Track) -->
                        <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-5 card-hover transition duration-300 cursor-pointer">
                            <div class="flex justify-between items-start">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 font-bold mr-3">
                                        GC
                                    </div>
                                    <div>
                                        <h3 class="font-bold text-gray-800">Green Coast Retailers</h3>
                                        <p class="text-sm text-gray-500">Retail Chain</p>
                                    </div>
                                </div>
                                <span class="bg-green-500 text-white text-xs px-3 py-1 rounded-full font-medium">All Caught Up</span>
                            </div>
                            
                            <div class="mt-6 grid grid-cols-3 gap-2 text-sm">
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-semibold mb-3 text-gray-800">Last Engaged</p>
                                    <div class="text-gray-800 flex items-center justify-between pr-3">
                                        <p class="text-xs">1 week ago</p>
                                        <div class="flex mt-1 space-x-1">
                                            <span class="w-4 h-4 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-xs">
                                                <i class="fas fa-envelope"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-semibold mb-3 text-gray-800">Last Topic</p>
                                    <p class="text-xs text-gray-800">Inventory Tracking</p>
                                </div>
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-semibold mb-3 text-gray-800">Last Doc</p>
                                    <p class="text-xs text-gray-800">Monthly Report XLSX</p>
                                </div>
                            </div>
                        </div>
        
                        <!-- Client Card 4 - Sunny Cafe Group (On Track) -->
                        <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-5 card-hover transition duration-300 cursor-pointer">
                            <div class="flex justify-between items-start">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-700 font-bold mr-3">
                                        SC
                                    </div>
                                    <div>
                                        <h3 class="font-bold text-gray-800">Sunny Cafe Group</h3>
                                        <p class="text-sm text-gray-500">Food & Beverage</p>
                                    </div>
                                </div>
                                <span class="bg-green-500 text-white text-xs px-3 py-1 rounded-full font-medium">All Caught Up</span>
                            </div>
                            
                            <div class="mt-6 grid grid-cols-3 gap-2 text-sm">
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-medium mb-3 text-gray-800">Last Engaged</p>
                                    <div class="text-gray-800 flex items-center justify-between pr-3">
                                        <p class="text-xs">3 days ago</p>
                                        <div class="flex mt-1 space-x-1">
                                            <span class="w-4 h-4 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 text-xs">
                                                <i class="fab fa-slack"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-medium mb-3 text-gray-800">Last Topic</p>
                                    <p class="text-xs text-gray-800">Quarterly Review</p>
                                </div>
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-medium mb-3 text-gray-800">Last Doc</p>
                                    <p class="text-xs text-gray-800">Revenue Forecast PDF</p>
                                </div>
                            </div>
                        </div>
        
                        <!-- Client Card 6 - EcoFarm Produce (On Track) -->
                        <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-5 card-hover transition duration-300 cursor-pointer">
                            <div class="flex justify-between items-start">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-bold mr-3">
                                        EF
                                    </div>
                                    <div>
                                        <h3 class="font-bold text-gray-800">EcoFarm Produce</h3>
                                        <p class="text-sm text-gray-500">Agriculture</p>
                                    </div>
                                </div>
                                <span class="bg-green-500 text-white text-xs px-3 py-1 rounded-full font-medium">All Caught Up</span>
                            </div>
                            
                            <div class="mt-6 grid grid-cols-3 gap-2 text-sm">
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-medium mb-3 text-gray-800">Last Engaged</p>
                                    <div class="text-gray-800 flex items-center justify-between pr-3">
                                        <p class="text-xs">5 days ago</p>
                                        <div class="flex mt-1 space-x-1">
                                            <span class="w-4 h-4 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-xs">
                                                <i class="fas fa-envelope"></i>
                                            </span>
                                            <span class="w-4 h-4 rounded-full bg-teal-100 flex items-center justify-center text-teal-600 text-xs">
                                                <i class="fab fa-microsoft"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-medium mb-3 text-gray-800">Last Topic</p>
                                    <p class="text-xs text-gray-800">Tax Filing Completed</p>
                                </div>
                                <div class="bg-gray-100 p-2 rounded">
                                    <p class="font-medium mb-3 text-gray-800">Last Doc</p>
                                    <p class="text-xs text-gray-800">Tax Filing Confirmation</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Client Portal View (Hidden initially) -->
        <div id="client-portal" class="hidden h-screen flex flex-col">
            <!-- Back button -->
            <div class="bg-gray-50 px-6 py-3 border-b border-gray-200">
                <button id="back-to-dashboard" class="flex items-center text-gray-600 hover:text-gray-900">
                    <i class="fas fa-arrow-left mr-2"></i>
                    <span>Back to Dashboard</span>
                </button>
            </div>
            
            <!-- Client Portal Content -->
            <div class="flex flex-1 overflow-hidden">
                <!-- Left Panel - Collapsible Sidebar with Client Info -->
                <div id="sidebar" class="border-r border-gray-200 bg-white flex flex-col transition-all duration-300 ease-in-out" style="width: 400px;">
                    <div class="flex justify-between items-center p-4 border-b border-gray-200">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-700 font-bold mr-3">
                                RP
                            </div>
                            <div>
                                <h2 class="font-bold text-gray-800">Riverstone Properties</h2>
                                <p class="text-xs text-gray-500">Real Estate Development</p>
                            </div>
                        </div>
                        <button id="collapse-sidebar" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                    </div>
                    
                    <div class="p-4 overflow-y-auto custom-scrollbar flex-1" style="display: flex; flex-direction: column; gap: 0.5rem;">
                        <div class="bg-red-50 border border-red-200 rounded-md p-3 my-4">
                            <p class="text-sm text-red-700 font-medium flex items-center">
                                <i class="fas fa-exclamation-circle mr-1"></i> Priority: Tax deadline March 15, 2025
                            </p>
                        </div>
                        
                        <div class="flex items-center mb-3">
                            <span class="text-xs text-gray-500 uppercase font-semibold">COMMUNICATION RECAP</span>
                            <div class="ml-2 bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded-full flex items-center">
                                <i class="fas fa-robot mr-1 text-xs"></i> AI Generated
                            </div>
                        </div>
                        
                        <!-- Timeline with perfect alignment -->
                        <div class="relative pt-1">
                            <!-- Timeline line - centered behind dots -->
                            <div class="absolute left-2 top-3 bottom-0 w-0.5 bg-gray-200"></div>
                            
                            <!-- Timeline Entry 1 -->
                            <div class="relative pl-8 pb-6">
                                <!-- Perfectly aligned dot -->
                                <div class="absolute left-0 top-1.5 flex items-center justify-center">
                                    <div class="w-6 h-6 rounded-full bg-white flex items-center justify-center">
                                        <div class="w-4 h-4 rounded-full bg-blue-500"></div>
                                    </div>
                                </div>
                                <div class="bg-white rounded-lg border border-gray-200 p-3">
                                    <div class="mb-1 font-medium text-gray-800">March 8 - March 10, 2025</div>
                                    <p class="text-sm text-gray-600 mb-2"><span class="font-medium">Main Topics:</span> Tax preparation documents, Financial statements</p>
                                    <p class="text-sm text-gray-600">Client sent Q1 financials and bank records. Confirmed tax deadline. Discussed invoice #1024 for property acquisition.</p>
                                    <div class="mt-2 flex items-center text-xs text-gray-500">
                                        <div class="mr-3 flex items-center">
                                            <i class="fas fa-envelope text-blue-600 mr-1"></i> 2 emails
                                        </div>
                                        <div class="mr-3 flex items-center">
                                            <i class="fab fa-microsoft text-teal-600 mr-1"></i> 1 teams
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Timeline Entry 2 -->
                            <div class="relative pl-8 pb-6">
                                <div class="absolute left-0 top-1.5 flex items-center justify-center">
                                    <div class="w-6 h-6 rounded-full bg-white flex items-center justify-center">
                                        <div class="w-4 h-4 rounded-full bg-blue-500"></div>
                                    </div>
                                </div>
                                <div class="bg-white rounded-lg border border-gray-200 p-3">
                                    <div class="mb-1 font-medium text-gray-800">March 3 - March 7, 2025</div>
                                    <p class="text-sm text-gray-600 mb-2"><span class="font-medium">Main Topics:</span> Property acquisition, Tax implications</p>
                                    <p class="text-sm text-gray-600">Client asked about tax implications for new property. Reviewed required documentation.</p>
                                    <div class="mt-2 flex items-center text-xs text-gray-500">
                                        <div class="mr-3 flex items-center">
                                            <i class="fas fa-envelope text-blue-600 mr-1"></i> 1 email
                                        </div>
                                        <div class="mr-3 flex items-center">
                                            <i class="fab fa-slack text-purple-600 mr-1"></i> 2 slack messages
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Timeline Entry 3 -->
                            <div class="relative pl-8 pb-6">
                                <div class="absolute left-0 top-1.5 flex items-center justify-center">
                                    <div class="w-6 h-6 rounded-full bg-white flex items-center justify-center">
                                        <div class="w-4 h-4 rounded-full bg-blue-500"></div>
                                    </div>
                                </div>
                                <div class="bg-white rounded-lg border border-gray-200 p-3">
                                    <div class="mb-1 font-medium text-gray-800">February 20 - March 2, 2025</div>
                                    <p class="text-sm text-gray-600 mb-2"><span class="font-medium">Main Topics:</span> Tax filing planning, Financial documents</p>
                                    <p class="text-sm text-gray-600">Scheduled tax prep meeting. Shared document list. Client confirmed delivery timeline and deadline importance.</p>
                                    <div class="mt-2 flex items-center text-xs text-gray-500">
                                        <div class="mr-3 flex items-center">
                                            <i class="fas fa-envelope text-blue-600 mr-1"></i> 3 emails
                                        </div>
                                        <div class="mr-3 flex items-center">
                                            <i class="fab fa-microsoft text-teal-600 mr-1"></i> 1 teams meeting
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Show more button -->
                            <div class="text-center mt-2 pl-8">
                                <button class="text-blue-600 text-sm hover:text-blue-800">
                                    Show earlier communication <i class="fas fa-chevron-down ml-1"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Quick action buttons at bottom -->
                        <!-- <div class="mt-8 pt-4 border-t border-gray-200">
                            <div class="space-y-2">
                                <button class="w-full bg-blue-600 hover:bg-blue-700 text-white text-sm py-2 px-4 rounded transition">
                                    <i class="fas fa-paper-plane mr-1"></i> Send Message
                                </button>
                                <button class="w-full border border-gray-300 hover:bg-gray-50 text-gray-700 text-sm py-2 px-4 rounded transition">
                                    <i class="fas fa-file-upload mr-1"></i> Request Documents
                                </button>
                            </div>
                        </div> -->
                    </div>
                </div>
                
                <!-- Collapsed Sidebar bar (shows only with it is collapsed) -->
                <div id="collapsed-sidebar" class="hidden border-r border-gray-200 bg-white flex flex-col items-center py-4" style="width: 60px;">
                    <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-700 font-bold mb-4">
                        RP
                    </div>
                    <button id="expand-sidebar" class="text-gray-400 hover:text-gray-600 w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <div class="flex-1"></div>
                    <div class="mt-4 flex flex-col space-y-4">
                        <button class="text-gray-400 hover:text-gray-600 w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                        <button class="text-gray-400 hover:text-gray-600 w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100">
                            <i class="fas fa-file-upload"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Main Content -->
                <div class="flex-1 flex flex-col bg-gray-50 overflow-hidden">
                    <!-- Tabs Navigation -->
                    <div class="flex border-b border-gray-200 bg-white">
                        <button class="nav-tab active flex-1 text-center py-4 px-4 outline-none focus:outline-none" data-tab="communication">
                            <i class="fas fa-comments mr-2"></i> Communications
                        </button>
                        <button class="nav-tab flex-1 text-center py-4 px-4 outline-none focus:outline-none" data-tab="documents">
                            <i class="fas fa-file-alt mr-2"></i> Documents
                        </button>
                    </div>
                    
                    <!-- Tab Content -->
                    <div class="flex-1 overflow-y-auto custom-scrollbar">
                        <!-- Communication Tab (Visible by default) -->
                        <div id="tab-communication" class="tab-content p-6 h-full">
                            <!-- Channel Integration Header -->
                            <div class="bg-white rounded-lg shadow-sm p-4 mb-4">
                                <div class="mb-3 flex justify-between items-center">
                                    <h3 class="font-medium text-gray-800">Connected Channels</h3>
                                    <div class="flex space-x-2">
                                        <button id="timeline-view" class="bg-blue-600 text-white px-3 py-1 rounded-md text-sm flex items-center view-toggle">
                                            <i class="fas fa-stream mr-1"></i> Timeline
                                        </button>
                                        <button id="topic-view" class="bg-white text-gray-600 px-3 py-1 rounded-md text-sm border flex items-center view-toggle">
                                            <i class="fas fa-layer-group mr-1"></i> By Topic
                                        </button>
                                    </div>
                                </div>
                                <div class="flex space-x-2">
                                    <div class="channel-logo icon-email relative">
                                        <i class="fas fa-envelope"></i>
                                        <span class="channel-badge-count">7</span>
                                    </div>
                                    <div class="channel-logo icon-slack relative">
                                        <i class="fab fa-slack"></i>
                                        <span class="channel-badge-count">3</span>
                                    </div>
                                    <div class="channel-logo icon-teams relative">
                                        <i class="fab fa-microsoft"></i>
                                        <span class="channel-badge-count">2</span>
                                    </div>
                                    <button class="text-sm text-blue-600 hover:text-blue-800 ml-auto">
                                        <i class="fas fa-plus-circle mr-1"></i> Add Channel
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Filters -->
                            <div class="mb-4 flex flex-wrap gap-2">
                                <button class="bg-blue-600 text-white px-3 py-1 rounded-full text-sm flex items-center">
                                    <i class="fas fa-filter mr-1"></i> All Messages
                                </button>
                                <button class="bg-white text-gray-600 px-3 py-1 rounded-full text-sm border flex items-center">
                                    <i class="fas fa-envelope mr-1"></i> Email Only
                                </button>
                                <button class="bg-white text-gray-600 px-3 py-1 rounded-full text-sm border flex items-center">
                                    <i class="fab fa-slack mr-1"></i> Slack Only
                                </button>
                                <button class="bg-white text-gray-600 px-3 py-1 rounded-full text-sm border flex items-center">
                                    <i class="fab fa-microsoft mr-1"></i> Teams Only
                                </button>
                                <button class="bg-white text-gray-600 px-3 py-1 rounded-full text-sm border flex items-center">
                                    <i class="fas fa-bell mr-1"></i> Unread
                                </button>
                                <button class="bg-white text-gray-600 px-3 py-1 rounded-full text-sm border flex items-center">
                                    <i class="fas fa-paperclip mr-1"></i> With Attachments
                                </button>
                                
                                <!-- Date Range Selector -->
                                <!-- <div class="ml-auto">
                                    <button class="bg-white text-gray-600 px-3 py-1 rounded-full text-sm border flex items-center">
                                        <i class="fas fa-calendar-alt mr-1"></i> Last 30 Days
                                    </button>
                                </div> -->
                            </div>
                            
                            <!-- Timeline View (default) -->
                            <div id="timeline-view-content" class="space-y-4">
                                <!-- Message 1 (Email) -->
                                <div class="bg-white rounded-lg shadow-sm p-4 border-l-4 border-blue-500">
                                    <div class="flex justify-between items-start mb-2">
                                        <div class="flex items-center">
                                            <div class="channel-badge bg-blue-100 text-blue-600 mr-2">
                                                <i class="fas fa-envelope"></i>
                                            </div>
                                            <span class="font-medium">John Riverstone</span>
                                            <span class="mx-2 text-gray-400">•</span>
                                            <span class="text-sm text-gray-500">Today, 9:43 AM</span>
                                        </div>
                                        <div>
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">New</span>
                                        </div>
                                    </div>
                                    <div class="text-gray-700 mb-3">
                                        <p>Hello,</p>
                                        <p class="mt-2">I'm sending over the requested documents for our Q1 financial statement and the bank records you requested. I've also included the invoice #1024 for the recent property acquisition.</p>
                                        <p class="mt-2">Can you let me know if you need anything else for the tax preparation?</p>
                                        <p class="mt-2">Thanks,<br>John</p>
                                    </div>
                                    <div class="bg-gray-50 p-3 rounded border border-gray-200">
                                        <div class="text-sm font-medium text-gray-700 mb-2">Attachments (3)</div>
                                        <div class="grid grid-cols-1 gap-2">
                                            <div class="flex items-center bg-white p-2 rounded border border-gray-200">
                                                <i class="fas fa-file-pdf text-red-500 mr-2"></i>
                                                <span class="text-sm">Q1_Financial_Statement.pdf</span>
                                                <span class="ml-auto text-blue-600 hover:text-blue-800 cursor-pointer">
                                                    <i class="fas fa-eye"></i>
                                                </span>
                                            </div>
                                            <div class="flex items-center bg-white p-2 rounded border border-gray-200">
                                                <i class="fas fa-file-excel text-green-500 mr-2"></i>
                                                <span class="text-sm">Bank_Records_Jan_Mar.xlsx</span>
                                                <span class="ml-auto text-blue-600 hover:text-blue-800 cursor-pointer">
                                                    <i class="fas fa-eye"></i>
                                                </span>
                                            </div>
                                            <div class="flex items-center bg-white p-2 rounded border border-gray-200">
                                                <i class="fas fa-file-invoice text-blue-500 mr-2"></i>
                                                <span class="text-sm">Invoice_1024.pdf</span>
                                                <span class="ml-auto text-blue-600 hover:text-blue-800 cursor-pointer">
                                                    <i class="fas fa-eye"></i>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-3 flex">
                                        <button class="text-blue-600 text-sm font-medium hover:text-blue-800 mr-4">
                                            <i class="fas fa-reply mr-1"></i> Reply
                                        </button>
                                        <button class="text-gray-600 text-sm font-medium hover:text-gray-800">
                                            <i class="fas fa-tag mr-1"></i> Categorize
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Message 2 (Teams) -->
                                <div class="bg-white rounded-lg shadow-sm p-4 border-l-4 border-teal-500">
                                    <div class="flex justify-between items-start mb-2">
                                        <div class="flex items-center">
                                            <div class="channel-badge bg-teal-100 text-teal-600 mr-2">
                                                <i class="fab fa-microsoft"></i>
                                            </div>
                                            <span class="font-medium">Sarah Riverstone</span>
                                            <span class="mx-2 text-gray-400">•</span>
                                            <span class="text-sm text-gray-500">Today, 8:30 AM</span>
                                        </div>
                                    </div>
                                    <div class="text-gray-700 mb-3">
                                        <p>Just a quick note that John will be sending over those financial documents we discussed in our last meeting. Let me know when you've received everything.</p>
                                    </div>
                                    <div class="mt-3 flex">
                                        <button class="text-blue-600 text-sm font-medium hover:text-blue-800 mr-4">
                                            <i class="fas fa-reply mr-1"></i> Reply
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Message 3 (Your message - email) -->
                                <div class="bg-white rounded-lg shadow-sm p-4">
                                    <div class="flex justify-between items-start mb-2">
                                        <div class="flex items-center">
                                            <div class="channel-badge bg-blue-100 text-blue-600 mr-2">
                                                <i class="fas fa-envelope"></i>
                                            </div>
                                            <span class="font-medium">You</span>
                                            <span class="mx-2 text-gray-400">•</span>
                                            <span class="text-sm text-gray-500">Yesterday, 2:15 PM</span>
                                        </div>
                                    </div>
                                    <div class="text-gray-700 mb-3">
                                        <p>Hi John,</p>
                                        <p class="mt-2">We're working on your tax preparation and need a few documents to complete the process:</p>
                                        <ol class="list-decimal ml-5 mt-2">
                                            <li>Q1 Financial Statement</li>
                                            <li>Bank records for January through March</li>
                                            <li>Invoice #1024 for the new property acquisition</li>
                                        </ol>
                                        <p class="mt-2">Please send these at your earliest convenience so we can meet the March 15 deadline.</p>
                                        <p class="mt-2">Best regards,<br>Your Accountant</p>
                                    </div>
                                </div>
                                
                                <!-- Message 4 (Slack) -->
                                <div class="bg-white rounded-lg shadow-sm p-4 border-l-4 border-purple-500">
                                    <div class="flex justify-between items-start mb-2">
                                        <div class="flex items-center">
                                            <div class="channel-badge bg-purple-100 text-purple-600 mr-2">
                                                <i class="fab fa-slack"></i>
                                            </div>
                                            <span class="font-medium">John Riverstone</span>
                                            <span class="mx-2 text-gray-400">•</span>
                                            <span class="text-sm text-gray-500">Yesterday, 10:30 AM</span>
                                        </div>
                                    </div>
                                    <div class="text-gray-700 mb-3">
                                        <p>Quick question about the upcoming tax filing - do we need to prepare anything special for the new property acquisition? I'm gathering all the documents but wanted to check if there's anything specific I should look for.</p>
                                    </div>
                                    <div class="mt-3 flex">
                                        <button class="text-blue-600 text-sm font-medium hover:text-blue-800 mr-4">
                                            <i class="fas fa-reply mr-1"></i> Reply
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- AI Summary of Older Messages -->
                                <div class="bg-gray-50 border border-gray-200 rounded-lg p-3">
                                    <div class="flex items-center justify-between mb-2">
                                        <h3 class="text-sm font-medium text-gray-700">
                                            <i class="fas fa-robot mr-1"></i> AI Summary of Previous Messages
                                        </h3>
                                        <button class="text-xs text-blue-600 hover:text-blue-800">
                                            Show 8 more messages
                                        </button>
                                    </div>
                                    <div class="text-sm text-gray-600">
                                        <p>Earlier discussions focused on preparing for the Q1 tax filing. Key points:</p>
                                        <ul class="list-disc ml-5 mt-1">
                                            <li>Initial tax preparation meeting scheduled for March 1st</li>
                                            <li>Discussion of new property acquisition and its tax implications</li>
                                            <li>Agreement on quarterly filing schedule for the fiscal year</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- Compose Box -->
                                <div class="bg-white rounded-lg shadow-sm p-4 border border-gray-200 mt-6">
                                    <div class="mb-2 flex justify-between">
                                        <div class="flex items-center">
                                            <div class="channel-badge bg-blue-100 text-blue-600 mr-2">
                                                <i class="fas fa-envelope"></i>
                                            </div>
                                            <span class="text-sm font-medium">Reply via Email</span>
                                        </div>
                                        <div class="flex">
                                            <button class="text-gray-500 hover:text-gray-700 text-sm mr-2">
                                                <i class="fas fa-exchange-alt mr-1"></i> Change Channel
                                            </button>
                                        </div>
                                    </div>
                                    <div class="border border-gray-300 rounded-md p-3 mb-3">
                                        <textarea placeholder="Type your message here..." class="w-full outline-none resize-none" rows="3"></textarea>
                                    </div>
                                    <div class="flex justify-between">
                                        <div class="flex space-x-2">
                                            <button class="text-gray-500 hover:text-gray-700">
                                                <i class="fas fa-paperclip"></i>
                                            </button>
                                            <button class="text-gray-500 hover:text-gray-700">
                                                <i class="fas fa-smile"></i>
                                            </button>
                                            <button class="text-gray-500 hover:text-gray-700">
                                                <i class="fas fa-calendar-alt"></i>
                                            </button>
                                        </div>
                                        <div>
                                            <button class="bg-blue-600 hover:bg-blue-700 text-white rounded-md px-4 py-2 mr-3 text-sm font-medium">
                                                Reply with AI
                                            </button>
                                            <button class="bg-blue-600 hover:bg-blue-700 text-white rounded-md px-4 py-2 text-sm font-medium">
                                                Send Reply
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Topic View (hidden initially) -->
                            <div id="topic-view-content" class="hidden">
                                <!-- AI-Generated Topic Clusters -->
                                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <h3 class="text-base font-medium text-blue-800">
                                            <i class="fas fa-robot mr-1"></i> AI-Organized Topic Clusters
                                        </h3>
                                        <span class="text-xs text-blue-600">Updated 5 minutes ago</span>
                                    </div>
                                    <p class="text-sm text-gray-700 mb-4">All client communications have been automatically organized into the following topic clusters:</p>
                                    <div class="flex flex-wrap gap-3">
                                        <button class="bg-white text-blue-700 px-3 py-2 rounded text-sm border border-blue-200 font-medium hover:bg-blue-50 flex items-center">
                                            Tax Return Preparation <span class="ml-2 bg-blue-100 text-blue-800 rounded-full px-2 py-0.5 text-xs">7</span>
                                        </button>
                                        <button class="bg-white text-blue-700 px-3 py-2 rounded text-sm border border-blue-200 font-medium hover:bg-blue-50 flex items-center">
                                            Financial Statements <span class="ml-2 bg-blue-100 text-blue-800 rounded-full px-2 py-0.5 text-xs">5</span>
                                        </button>
                                        <button class="bg-white text-blue-700 px-3 py-2 rounded text-sm border border-blue-200 font-medium hover:bg-blue-50 flex items-center">
                                            Bank Records <span class="ml-2 bg-blue-100 text-blue-800 rounded-full px-2 py-0.5 text-xs">3</span>
                                        </button>
                                        <button class="bg-white text-blue-700 px-3 py-2 rounded text-sm border border-blue-200 font-medium hover:bg-blue-50 flex items-center">
                                            Property Acquisitions <span class="ml-2 bg-blue-100 text-blue-800 rounded-full px-2 py-0.5 text-xs">4</span>
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Topic: Tax Return Preparation -->
                                <div class="mb-8">
                                    <div class="flex items-center mb-3">
                                        <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-2">
                                            <i class="fas fa-file-invoice"></i>
                                        </div>
                                        <h3 class="text-lg font-medium text-gray-800">Tax Return Preparation</h3>
                                        <span class="ml-2 text-sm text-gray-500">7 messages across all channels</span>
                                    </div>
                                    
                                    <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 mb-3">
                                        <div class="flex items-start">
                                            <i class="fas fa-robot text-blue-600 mt-1 mr-2"></i>
                                            <div>
                                                <div class="text-sm font-medium text-gray-800">AI Summary of this Topic</div>
                                                <p class="text-sm text-gray-600 mt-1">
                                                    Discussion centers around the March 15th tax filing deadline. Client has been asked to provide Q1 financial statements, bank records, and property acquisition documents. Client inquired about special considerations for new property.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="space-y-3">
                                        <!-- Topic Message 1 -->
                                        <div class="bg-white rounded-lg shadow-sm p-3 border-l-4 border-blue-500">
                                            <div class="flex justify-between items-start mb-1">
                                                <div class="flex items-center">
                                                    <div class="channel-badge bg-blue-100 text-blue-600 mr-1 text-xs">
                                                        <i class="fas fa-envelope"></i>
                                                    </div>
                                                    <span class="font-medium text-sm">John Riverstone</span>
                                                    <span class="mx-2 text-gray-400">•</span>
                                                    <span class="text-xs text-gray-500">Today, 9:43 AM</span>
                                                </div>
                                            </div>
                                            <div class="text-sm text-gray-700 my-1">
                                                <p>I'm sending over the requested documents for our Q1 financial statement... Can you let me know if you need anything else for the tax preparation?</p>
                                            </div>
                                            <div class="text-xs text-blue-600">3 attachments • <a href="#" class="hover:underline">View full message</a></div>
                                        </div>
                                        
                                        <!-- Topic Message 2 -->
                                        <div class="bg-white rounded-lg shadow-sm p-3">
                                            <div class="flex justify-between items-start mb-1">
                                                <div class="flex items-center">
                                                    <div class="channel-badge bg-blue-100 text-blue-600 mr-1 text-xs">
                                                        <i class="fas fa-envelope"></i>
                                                    </div>
                                                    <span class="font-medium text-sm">You</span>
                                                    <span class="mx-2 text-gray-400">•</span>
                                                    <span class="text-xs text-gray-500">Yesterday, 2:15 PM</span>
                                                </div>
                                            </div>
                                            <div class="text-sm text-gray-700 my-1">
                                                <p>We're working on your tax preparation and need a few documents to complete the process...</p>
                                            </div>
                                            <div class="text-xs text-blue-600"><a href="#" class="hover:underline">View full message</a></div>
                                        </div>
                                        
                                        <!-- Topic Message 3 -->
                                        <div class="bg-white rounded-lg shadow-sm p-3 border-l-4 border-purple-500">
                                            <div class="flex justify-between items-start mb-1">
                                                <div class="flex items-center">
                                                    <div class="channel-badge bg-purple-100 text-purple-600 mr-1 text-xs">
                                                        <i class="fab fa-slack"></i>
                                                    </div>
                                                    <span class="font-medium text-sm">John Riverstone</span>
                                                    <span class="mx-2 text-gray-400">•</span>
                                                    <span class="text-xs text-gray-500">Yesterday, 10:30 AM</span>
                                                </div>
                                            </div>
                                            <div class="text-sm text-gray-700 my-1">
                                                <p>Quick question about the upcoming tax filing - do we need to prepare anything special for the new property acquisition?...</p>
                                            </div>
                                            <div class="text-xs text-blue-600"><a href="#" class="hover:underline">View full message</a></div>
                                        </div>
                                        
                                        <button class="w-full text-blue-600 text-sm hover:text-blue-800 py-2">
                                            View 4 more messages in this topic
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Topic: Property Acquisitions (partial view) -->
                                <div class="mb-4">
                                    <div class="flex items-center mb-3">
                                        <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-2">
                                            <i class="fas fa-building"></i>
                                        </div>
                                        <h3 class="text-lg font-medium text-gray-800">Property Acquisitions</h3>
                                        <span class="ml-2 text-sm text-gray-500">4 messages across all channels</span>
                                    </div>
                                    
                                    <div class="bg-white rounded-lg shadow-sm p-3 border border-gray-200">
                                        <button class="w-full text-blue-600 text-sm hover:text-blue-800 py-2">
                                            View messages in this topic
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Documents Tab (Hidden initially) -->
                        <div id="tab-documents" class="tab-content p-6 hidden h-full">
                            <div class="bg-white rounded-lg shadow-sm p-4 mb-4">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="font-medium text-gray-800">Document Categories</h3>
                                    <button class="text-sm text-blue-600 hover:text-blue-800">
                                        <i class="fas fa-cog mr-1"></i> Edit Categories
                                    </button>
                                </div>
                                
                                <div class="grid grid-cols-3 gap-3">
                                    <div class="border border-gray-200 rounded p-3 text-center hover:bg-blue-50 cursor-pointer">
                                        <i class="fas fa-file-invoice text-blue-500 text-xl mb-1"></i>
                                        <div class="text-sm font-medium">Tax Returns</div>
                                        <div class="text-xs text-gray-500">8 documents</div>
                                    </div>
                                    <div class="border border-gray-200 rounded p-3 text-center hover:bg-blue-50 cursor-pointer">
                                        <i class="fas fa-chart-line text-green-500 text-xl mb-1"></i>
                                        <div class="text-sm font-medium">Financial Statements</div>
                                        <div class="text-xs text-gray-500">12 documents</div>
                                    </div>
                                    <div class="border border-gray-200 rounded p-3 text-center hover:bg-blue-50 cursor-pointer">
                                        <i class="fas fa-receipt text-purple-500 text-xl mb-1"></i>
                                        <div class="text-sm font-medium">Receipts & Invoices</div>
                                        <div class="text-xs text-gray-500">27 documents</div>
                                    </div>
                                    <div class="border border-gray-200 rounded p-3 text-center hover:bg-blue-50 cursor-pointer">
                                        <i class="fas fa-envelope-open-text text-red-500 text-xl mb-1"></i>
                                        <div class="text-sm font-medium">CRA Correspondence</div>
                                        <div class="text-xs text-gray-500">5 documents</div>
                                    </div>
                                    <div class="border border-gray-200 rounded p-3 text-center hover:bg-blue-50 cursor-pointer">
                                        <i class="fas fa-university text-yellow-500 text-xl mb-1"></i>
                                        <div class="text-sm font-medium">Banking Documents</div>
                                        <div class="text-xs text-gray-500">18 documents</div>
                                    </div>
                                    <div class="border border-gray-200 rounded p-3 text-center hover:bg-blue-50 cursor-pointer">
                                        <i class="fas fa-building text-indigo-500 text-xl mb-1"></i>
                                        <div class="text-sm font-medium">Corporate Records</div>
                                        <div class="text-xs text-gray-500">6 documents</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Recent Documents with Auto-categorization -->
                            <div class="bg-white rounded-lg shadow-sm p-4 mb-4">
                                <div class="flex justify-between items-center mb-3">
                                    <h3 class="font-medium text-gray-800">Recently Added Documents</h3>
                                    <div class="text-sm text-gray-500">Showing 5 of 76 documents</div>
                                </div>
                                
                                <div class="space-y-2">
                                    <!-- Document 1 with AI categorization -->
                                    <div class="document-card p-3 rounded flex items-center border border-gray-200 bg-blue-50">
                                        <i class="fas fa-file-pdf text-red-500 mr-3 text-lg"></i>
                                        <div class="flex-1">
                                            <div class="flex items-center">
                                                <span class="font-medium text-gray-800">Q1_Financial_Statement.pdf</span>
                                                <span class="ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full">New</span>
                                            </div>
                                            <div class="text-sm text-gray-500">Added today via Email</div>
                                        </div>
                                        <div class="mr-4">
                                            <div class="bg-white border border-green-200 rounded-md px-2 py-1 text-xs text-green-700 flex items-center">
                                                <i class="fas fa-robot mr-1"></i> Auto-categorized: Financial Statements
                                            </div>
                                        </div>
                                        <button class="text-gray-400 hover:text-gray-600">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </button>
                                    </div>
                                    
                                    <!-- Document 2 with AI categorization -->
                                    <div class="document-card p-3 rounded flex items-center border border-gray-200 bg-blue-50">
                                        <i class="fas fa-file-excel text-green-500 mr-3 text-lg"></i>
                                        <div class="flex-1">
                                            <div class="flex items-center">
                                                <span class="font-medium text-gray-800">Bank_Records_Jan_Mar.xlsx</span>
                                                <span class="ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full">New</span>
                                            </div>
                                            <div class="text-sm text-gray-500">Added today via Email</div>
                                        </div>
                                        <div class="mr-4">
                                            <div class="bg-white border border-green-200 rounded-md px-2 py-1 text-xs text-green-700 flex items-center">
                                                <i class="fas fa-robot mr-1"></i> Auto-categorized: Banking Documents
                                            </div>
                                        </div>
                                        <button class="text-gray-400 hover:text-gray-600">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </button>
                                    </div>
                                    
                                    <!-- Document 3 with AI categorization -->
                                    <div class="document-card p-3 rounded flex items-center border border-gray-200 bg-blue-50">
                                        <i class="fas fa-file-invoice text-blue-500 mr-3 text-lg"></i>
                                        <div class="flex-1">
                                            <div class="flex items-center">
                                                <span class="font-medium text-gray-800">Invoice_1024.pdf</span>
                                                <span class="ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full">New</span>
                                            </div>
                                            <div class="text-sm text-gray-500">Added today via Email</div>
                                        </div>
                                        <div class="mr-4">
                                            <div class="bg-white border border-green-200 rounded-md px-2 py-1 text-xs text-green-700 flex items-center">
                                                <i class="fas fa-robot mr-1"></i> Auto-categorized: Receipts & Invoices
                                            </div>
                                        </div>
                                        <button class="text-gray-400 hover:text-gray-600">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </button>
                                    </div>
                                    
                                    <!-- Document 4 -->
                                    <div class="document-card p-3 rounded flex items-center border border-gray-200">
                                        <i class="fas fa-file-pdf text-red-500 mr-3 text-lg"></i>
                                        <div class="flex-1">
                                            <div class="flex items-center">
                                                <span class="font-medium text-gray-800">2024_Corporate_Tax_Return.pdf</span>
                                            </div>
                                            <div class="text-sm text-gray-500">Added 3 days ago via Email</div>
                                        </div>
                                        <div class="mr-4">
                                            <span class="text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded">Tax Returns</span>
                                        </div>
                                        <button class="text-gray-400 hover:text-gray-600">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </button>
                                    </div>
                                    
                                    <!-- Document 5 -->
                                    <div class="document-card p-3 rounded flex items-center border border-gray-200">
                                        <i class="fas fa-file-pdf text-red-500 mr-3 text-lg"></i>
                                        <div class="flex-1">
                                            <div class="flex items-center">
                                                <span class="font-medium text-gray-800">CRA_Notice_2024.pdf</span>
                                            </div>
                                            <div class="text-sm text-gray-500">Added 1 week ago via Email</div>
                                        </div>
                                        <div class="mr-4">
                                            <span class="text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded">CRA Correspondence</span>
                                        </div>
                                        <button class="text-gray-400 hover:text-gray-600">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <button class="mt-4 text-blue-600 text-sm font-medium hover:text-blue-800">View all documents →</button>
                            </div>
                            
                            <!-- Document Version Comparison -->
                            <div class="bg-white rounded-lg shadow-sm p-4">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="font-medium text-gray-800">Document Versions</h3>
                                    <div class="text-sm text-gray-600">
                                        <i class="fas fa-info-circle mr-1"></i> 
                                        AI automatically tracks document versions
                                    </div>
                                </div>
                                
                                <div class="border border-gray-200 rounded-lg p-4">
                                    <div class="flex items-center mb-4">
                                        <i class="fas fa-chart-line text-green-500 mr-2 text-lg"></i>
                                        <span class="font-medium text-gray-800">Financial Statement</span>
                                        <span class="mx-2 text-gray-400">•</span>
                                        <span class="text-sm text-gray-500">3 versions detected</span>
                                    </div>
                                    
                                    <div class="mb-4">
                                        <div class="h-1 w-full bg-gray-200 rounded-full">
                                            <div class="bg-blue-500 h-1 rounded-full" style="width: 100%;"></div>
                                        </div>
                                        <div class="flex justify-between mt-1 text-xs text-gray-500">
                                            <span>Jan 15, 2024</span>
                                            <span>Feb 10, 2024</span>
                                            <span>Mar 10, 2024 (Latest)</span>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-blue-50 border border-blue-200 rounded p-3 mb-4">
                                        <div class="flex items-start">
                                            <i class="fas fa-robot text-blue-600 mt-1 mr-2"></i>
                                            <div>
                                                <div class="text-sm font-medium text-gray-800">AI-Detected Changes in Latest Version:</div>
                                                <ul class="list-disc ml-5 mt-1 text-sm text-gray-600">
                                                    <li>Updated revenue figures: $1.2M → $1.35M</li>
                                                    <li>Added new property acquisition (123 Main St)</li>
                                                    <li>Revised expense allocation for Q1</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="flex space-x-2">
                                        <button class="bg-white border border-gray-300 rounded px-3 py-1 text-sm text-gray-700 hover:bg-gray-50">
                                            <i class="fas fa-eye mr-1"></i> View Latest
                                        </button>
                                        <button class="bg-white border border-gray-300 rounded px-3 py-1 text-sm text-gray-700 hover:bg-gray-50">
                                            <i class="fas fa-history mr-1"></i> Compare Versions
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
    </div>

    <script>
        // Login functionality
        document.getElementById('login-button').addEventListener('click', function() {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('app').classList.remove('hidden');
        });

        // Section toggling for Engaging and On Track sections
        document.getElementById('toggle-engaging').addEventListener('click', function(e) {
            e.stopPropagation(); // Stop event propagation
            const content = document.getElementById('engaging-content');
            const icon = this.querySelector('i');
            
            if (content.style.display === 'none') {
                content.style.display = 'grid';
                icon.classList.remove('fa-chevron-right');
                icon.classList.add('fa-chevron-down');
            } else {
                content.style.display = 'none';
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-right');
            }
        });

        document.getElementById('toggle-on-track').addEventListener('click', function(e) {
            e.stopPropagation(); // Stop event propagation
            const content = document.getElementById('on-track-content');
            const icon = this.querySelector('i');
            
            if (content.style.display === 'none') {
                content.style.display = 'grid';
                icon.classList.remove('fa-chevron-right');
                icon.classList.add('fa-chevron-down');
            } else {
                content.style.display = 'none';
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-right');
            }
        });

        // To-do list toggling for each client card
        document.querySelectorAll('.toggle-todo').forEach(button => {
            button.addEventListener('click', function(e) {
                e.stopPropagation(); // Stop event propagation
                const todoListContainer = this.closest('div').nextElementSibling;
                const extraItems = todoListContainer.querySelectorAll('.todo-extra');
                const icon = this.querySelector('i');
                
                extraItems.forEach(item => {
                    if (item.classList.contains('hidden')) {
                        item.classList.remove('hidden');
                        icon.classList.remove('fa-chevron-down');
                        icon.classList.add('fa-chevron-up');
                    } else {
                        item.classList.add('hidden');
                        icon.classList.remove('fa-chevron-up');
                        icon.classList.add('fa-chevron-down');
                    }
                });
            });
        });
        
        // Dashboard to Client Portal navigation
        document.querySelectorAll('.client-card').forEach(card => {
            card.addEventListener('click', function() {
                document.getElementById('dashboard').classList.add('hidden');
                document.getElementById('client-portal').classList.remove('hidden');
            });
        });
        
        // Back to Dashboard
        document.getElementById('back-to-dashboard').addEventListener('click', function() {
            document.getElementById('client-portal').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
        });
        
        // Sidebar collapse/expand
        document.getElementById('collapse-sidebar').addEventListener('click', function() {
            document.getElementById('sidebar').classList.add('hidden');
            document.getElementById('collapsed-sidebar').classList.remove('hidden');
        });
        
        document.getElementById('expand-sidebar').addEventListener('click', function() {
            document.getElementById('sidebar').classList.remove('hidden');
            document.getElementById('collapsed-sidebar').classList.add('hidden');
        });
        
        // Tab navigation
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs
                document.querySelectorAll('.nav-tab').forEach(t => {
                    t.classList.remove('active');
                });
                
                // Add active class to clicked tab
                this.classList.add('active');
                
                // Hide all tab content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                });
                
                // Show the corresponding tab content
                const tabId = this.getAttribute('data-tab');
                document.getElementById('tab-' + tabId).classList.remove('hidden');
            });
        });
        
        // Communication view toggle (Timeline/Topic)
        document.querySelectorAll('.view-toggle').forEach(btn => {
            btn.addEventListener('click', function() {
                // Toggle active class
                document.querySelectorAll('.view-toggle').forEach(b => {
                    b.classList.remove('bg-blue-600', 'text-white');
                    b.classList.add('bg-white', 'text-gray-600');
                });
                this.classList.remove('bg-white', 'text-gray-600');
                this.classList.add('bg-blue-600', 'text-white');
                
                // Toggle content visibility
                if (this.id === 'timeline-view') {
                    document.getElementById('timeline-view-content').classList.remove('hidden');
                    document.getElementById('topic-view-content').classList.add('hidden');
                } else {
                    document.getElementById('timeline-view-content').classList.add('hidden');
                    document.getElementById('topic-view-content').classList.remove('hidden');
                }
            });
        });
        
        // Document selection
        document.querySelectorAll('.document-card').forEach(doc => {
            doc.addEventListener('click', function() {
                document.querySelectorAll('.document-card').forEach(d => {
                    d.classList.remove('selected');
                });
                this.classList.add('selected');
            });
        });
    </script>
</body>
</html>


<!-- -------------------------------------------------------------------------------------------------------------------------------- -->
             <!-- Recent Activity Section -->
            <!-- <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-6 mt-6">
                <h2 class="text-lg font-bold text-gray-800 mb-4">Recent Activity</h2>
                <div class="space-y-4">
                    <div class="flex items-start">
                        <div class="timeline-dot bg-blue-500 mt-1"></div>
                        <div>
                            <div class="flex items-center text-sm">
                                <span class="font-medium text-gray-900">Riverstone Properties</span>
                                <span class="mx-2 text-gray-500">•</span>
                                <span class="text-gray-500">Today, 9:43 AM</span>
                            </div>
                            <p class="text-sm text-gray-600 mt-1">Sent 3 new documents: Q1 Financial Statement, Bank Records, and Invoice #1024</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="timeline-dot bg-green-500 mt-1"></div>
                        <div>
                            <div class="flex items-center text-sm">
                                <span class="font-medium text-gray-900">You</span>
                                <span class="mx-2 text-gray-500">•</span>
                                <span class="text-gray-500">Today, 9:15 AM</span>
                            </div>
                            <p class="text-sm text-gray-600 mt-1">Replied to TechMinds Inc regarding quarterly tax preparation</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="timeline-dot bg-purple-500 mt-1"></div>
                        <div>
                            <div class="flex items-center text-sm">
                                <span class="font-medium text-gray-900">System</span>
                                <span class="mx-2 text-gray-500">•</span>
                                <span class="text-gray-500">Today, 8:30 AM</span>
                            </div>
                            <p class="text-sm text-gray-600 mt-1">AI categorized 12 documents from North Medical Center</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="timeline-dot bg-yellow-500 mt-1"></div>
                        <div>
                            <div class="flex items-center text-sm">
                                <span class="font-medium text-gray-900">Sunny Cafe Group</span>
                                <span class="mx-2 text-gray-500">•</span>
                                <span class="text-gray-500">Yesterday, 4:22 PM</span>
                            </div>
                            <p class="text-sm text-gray-600 mt-1">Asked question about GST/HST filing deadline</p>
                        </div>
                    </div>
                </div>
                <button class="mt-4 text-blue-600 text-sm font-medium hover:text-blue-800">View all activity →</button>
            </div> -->